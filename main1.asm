MOV P2,#11111110B 
MOV P1,#10111111B ; bit 6 denotes sump level (0-full, 1-empty)
MOV A,#00000000B
MAIN:ACALL SMPCK 
MOV A,P2 
CJNE A,#11110000B,LABEL1 ;full
SETB P1.1
SETB P1.2
SETB P1.3
SETB P1.4
CLR P1.0 
setb P3.0 ;motor off
LABEL1:MOV A,P2
CJNE A,#11111000B,LABEL2 ;3/4
SETB P1.0
SETB P1.2
SETB P1.3
SETB P1.4
CLR P1.1 
LABEL2:MOV A,P2
CJNE A,#11111100B,LABEL3 ;1/2
SETB P1.0
SETB P1.1
SETB P1.3
SETB P1.4
CLR P1.2 
LABEL3:MOV A,P2
CJNE A,#11111110B,LABEL4 ;1/4
SETB P1.0
SETB P1.1
SETB P1.2
SETB P1.4
CLR P1.3 
JB P1.6,LABEL4 
clr P3.0 ;motor on
LABEL4:MOV A,P2
CJNE A,#11111111B,MAIN ;empty
SETB P1.0
SETB P1.1
SETB P1.2
SETB P1.3
CLR P1.4 
JB P1.6,MAIN 
clr P3.0 ;motor on
SJMP MAIN
SMPCK:JB P1.6,LABEL5 ; sump 
SETB P1.7 
SJMP LABEL6
LABEL5:setb P3.0 ;motor off
CLR P1.7 ; sump low indicator
LABEL6:RET
END
